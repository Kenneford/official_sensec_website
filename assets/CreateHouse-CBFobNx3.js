import{f as c,g as H,e as C,r as l,a as S,n as T,j as e,B as d,l as v,cd as b}from"./index-BgAz6R-J.js";/* empty css               */import{T as y}from"./TaskAlt-bfh00-md.js";import{c as N}from"./muiStyling-DmAU0UFM.js";import{L as D}from"./LoadingProgress-C8hgd9jP.js";import{G as p}from"./Grid-LFq3_oT1.js";import"./FormLabel-C_YAtYcn.js";import"./index-DcfIKM1A.js";import"./useControlled-BV50I6TR.js";import"./useThemeProps-JU6LSmm0.js";import"./getThemeProps-IXaZHU6q.js";import"./index-CUAsLGHl.js";import"./IconButton-DXnj9XZJ.js";function P(){const o=c(H),{createStatus:a,successMessage:g,error:r}=c(s=>s.studentsHouse);console.log(o);const x=C(),[i,n]=l.useState(null),[t,m]=l.useState({name:"",createdBy:`${o.id}`});console.log(t),S();const f=s=>{m({...t,[s.target.name]:s.target.value})},h=!!t.name&&!!t.createdBy,j=s=>{s.preventDefault(),x(b({data:t}))};return l.useEffect(()=>{if(a==="pending"&&n(!1),a==="rejected"){setTimeout(()=>{var s,u;n(null),(u=(s=r==null?void 0:r.errorMessage)==null?void 0:s.message)==null||u.map(B=>T.error(B,{position:"top-right",theme:"light",toastId:"createHouseError"}))},3e3);return}a==="success"&&(setTimeout(()=>{n(!0)},3e3),setTimeout(()=>{n(null),m({name:"",createdBy:`${o.id}`})},6e3))},[r,g,a,o]),e.jsx(d,{sx:{width:{xs:"100%",sm:"85%",md:"75%",lg:"60%",xl:"50%"},margin:"auto",paddingTop:"2rem",display:"flex",flexDirection:"column"},className:"createDataWrap",children:e.jsxs(d,{component:"form",onSubmit:j,minHeight:220,p:2,children:[e.jsx("h1",{children:"House Form"}),e.jsx(p,{container:!0,spacing:3,children:e.jsx(p,{item:!0,xs:12,sm:6,md:6,lg:6,className:"inputCont",children:e.jsx(N,{fullWidth:!0,label:"Name",name:"name",onChange:f,value:t==null?void 0:t.name,required:!0,className:"textField",sx:{"&:hover":{borderColor:"none"}}})})}),e.jsxs(v,{type:"submit",disabled:!h,children:[i===!1&&e.jsx(D,{color:"#fff",size:"1.3rem"}),i===!0&&a==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Successful"})," ",e.jsx(y,{})]}),i===null&&"Create House"]})]})})}export{P as CreateHouse};
