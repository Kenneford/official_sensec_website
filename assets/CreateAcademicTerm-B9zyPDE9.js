import{f,g as S,e as F,r as p,a as T,n as I,j as t,B as g,l as L,c7 as P}from"./index-CL8aB76r.js";/* empty css               */import{T as w}from"./TaskAlt-S5e9RsjI.js";import{c as d,L as j,d as C,I as E}from"./muiStyling-Biny6EY4.js";import{L as M}from"./LoadingProgress-DrQz26HU.js";import{G as n}from"./Grid-C0sdyGW0.js";import{A}from"./AdapterDateFns-CtiyayOw.js";import{p as D}from"./index-DO4jrjCF.js";import"./FormLabel-DFf2C-vG.js";import"./index-DcfIKM1A.js";import"./useControlled-CyfcTk32.js";import"./useThemeProps-5fjUjDwy.js";import"./getThemeProps-BQ9MDSVY.js";import"./index-DvkxpYwK.js";import"./IconButton-zfBQ5iJg.js";import"./index-Co61iN_c.js";function Z(){const i=f(S),{createStatus:o,successMessage:v,error:l}=f(s=>s.academicTerm),b=F(),[u,m]=p.useState(null),[e,c]=p.useState({name:"",from:"",to:"",duration:"",createdBy:`${i.id}`});console.log(e),T();const x=s=>{c({...e,[s.target.name]:s.target.value})},h=(s,r)=>{c(a=>({...a,[s]:r}))},y=!!e.name,B=s=>{s.preventDefault();let r=typeof selectedDate=="string"?D(e==null?void 0:e.from):e==null?void 0:e.from,a=typeof selectedDate=="string"?D(e==null?void 0:e.to):e==null?void 0:e.to;const N={name:e==null?void 0:e.name,from:r,to:a,duration:e==null?void 0:e.duration,createdBy:`${i.id}`};b(P({academicTermData:N}))};return p.useEffect(()=>{if(o==="pending"&&m(!1),o==="rejected"){setTimeout(()=>{var s,r;m(null),(r=(s=l==null?void 0:l.errorMessage)==null?void 0:s.message)==null||r.map(a=>I.error(a,{position:"top-right",theme:"light"}))},3e3);return}o==="success"&&(setTimeout(()=>{m(!0)},3e3),setTimeout(()=>{m(null),c({name:"",from:"",to:"",duration:"",createdBy:`${i.id}`})},6e3))},[l,v,o,i]),t.jsx(g,{sx:{width:{xs:"100%",sm:"85%",md:"75%",lg:"60%",xl:"50%"},margin:"auto",paddingTop:"2rem",display:"flex",flexDirection:"column"},className:"createDataWrap",children:t.jsxs(g,{component:"form",onSubmit:B,minHeight:300,p:2,children:[t.jsx("h1",{children:"Academic Term Form"}),t.jsxs(n,{container:!0,spacing:3,children:[t.jsx(n,{item:!0,xs:12,sm:6,md:6,lg:6,children:t.jsx(d,{fullWidth:!0,label:"Name",name:"name",onChange:x,value:e.name,required:!0,className:"textField",sx:{"&:hover":{borderColor:"none"}}})}),t.jsx(n,{item:!0,xs:12,sm:6,md:6,lg:6,className:"inputCont",children:t.jsx(j,{dateAdapter:A,children:t.jsx(C,{label:"From",name:"from",value:e.from,onChange:s=>h("from",s),renderInput:s=>t.jsx(d,{...s}),error:!1,helperText:"",sx:{width:"100%"}})})}),t.jsx(n,{item:!0,xs:12,sm:6,md:6,lg:6,className:"inputCont",children:t.jsx(j,{dateAdapter:A,children:t.jsx(C,{label:"To",name:"to",value:e.to,onChange:s=>h("to",s),renderInput:s=>t.jsx(d,{...s}),error:!1,helperText:"",sx:{width:"100%"}})})}),t.jsx(n,{item:!0,xs:12,sm:6,md:6,lg:6,className:"inputCont",children:t.jsx(d,{fullWidth:!0,label:"Duration",name:"duration",onChange:x,value:e.duration,required:!0,className:"textField",sx:{"&:hover":{borderColor:"none"}},slotProps:{input:{endAdornment:t.jsx(E,{position:"end",children:"mth"})}}})})]}),t.jsxs(L,{type:"submit",disabled:!y,children:[u===!1&&t.jsx(M,{color:"#fff",size:"1.3rem"}),u===!0&&o==="success"&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"Successfully"})," ",t.jsx(w,{})]}),u===null&&"Create Academic Term"]})]})})}export{Z as CreateAcademicTerm};
