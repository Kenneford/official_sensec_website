import{f as S,g as I,a0 as z,u as W,r as c,e as D,a as E,a2 as M,n as T,j as t,B as C,T as R,l as k,da as $}from"./index-CL8aB76r.js";/* empty css                        */import{L as H}from"./LoadingProgress-DrQz26HU.js";import{R as G}from"./Redirection-C_WW2eLG.js";import{C as L,c as n}from"./muiStyling-Biny6EY4.js";import{b as U}from"./FetchAllStudents-DcT4Vh_v.js";import{G as r}from"./Grid-C0sdyGW0.js";import{T as _}from"./TaskAlt-S5e9RsjI.js";import"./FormLabel-DFf2C-vG.js";import"./index-DcfIKM1A.js";import"./useControlled-CyfcTk32.js";import"./useThemeProps-5fjUjDwy.js";import"./getThemeProps-BQ9MDSVY.js";import"./index-DvkxpYwK.js";import"./IconButton-zfBQ5iJg.js";function ie(){const u=S(I),j=U(),b=S(z),{studentId:a}=W(),N=j==null?void 0:j.find(s=>(s==null?void 0:s.uniqueId)===a),d=b==null?void 0:b.find(s=>{var i;return s.jhsIndexNo===((i=N==null?void 0:N.studentSchoolData)==null?void 0:i.jhsIndexNo)}),{createStatus:m,error:h,successMessage:B}=S(s=>s.parent),[p,x]=c.useState(null),[O,F]=c.useState(!1),f=D(),v=E(),{adminCurrentAction:l,adminCurrentLink:g}=W(),[e,q]=c.useState({studentId:a,indexNumber:"",fatherName:"",fathersOccupation:"",motherName:"",mothersOccupation:"",email:"",address:"",mobile:""}),o=s=>{q({...e,[s.target.name]:s.target.value})};e.fatherName&&e.fathersOccupation&&e.motherName&&e.mothersOccupation&&e.address&&e.phoneNumber;const y=s=>{if(s.preventDefault(),x(!1),a){const i={studentId:a,indexNumber:d==null?void 0:d.jhsIndexNo,fatherName:e.fatherName,motherName:e.motherName,fathersOccupation:e.fathersOccupation,mothersOccupation:e.mothersOccupation,email:e.email,address:e.address,mobile:e.mobile};f($(i))}else{T.error("Your ID Was Not Found!",{position:"top-right",theme:"light"});return}};return c.useEffect(()=>{f(M())},[f]),c.useEffect(()=>{if(m==="pending"&&x(!1),m==="rejected"){setTimeout(()=>{x(null)},3e3),setTimeout(()=>{var s,i;(i=(s=h==null?void 0:h.errorMessage)==null?void 0:s.message)==null||i.map(A=>T.error(A,{position:"top-right",theme:"light"}))},2e3);return}m==="success"&&(setTimeout(()=>{x(!0)},3e3),setTimeout(()=>{F(!0)},6e3),setTimeout(()=>{v(l?`/sensec/users/${u==null?void 0:u.uniqueId}/admin/User-Types/Students/${a}/enrollment/online/success`:`/sensec/students/${a}/enrollment/online/success`)},9e3))},[v,f,m,h,B,p,d,a,u,l]),t.jsxs(t.Fragment,{children:[l&&g&&t.jsx(C,{component:"div",id:"adminDashboardHeaderWrap",sx:{position:"sticky",top:0,backgroundColor:"#fff",padding:0},minHeight:"4rem",children:t.jsxs("h1",{className:"dashAction",children:[l==null?void 0:l.replace(/_/g,"-")," /"," ",t.jsx("span",{children:g==null?void 0:g.replace(/_/g," ")})]})}),t.jsxs(L,{component:"div",id:"parentWrap",sx:{px:{xs:".5rem",sm:"auto"}},children:[t.jsx("h1",{style:{textAlign:"center",color:"#696969",fontSize:"1.5rem"},children:"Student Parent Form"}),t.jsx(C,{component:"div",id:"parentFormWrap",sx:{maxWidth:600,mx:{xs:"0",sm:"auto"},mt:3,p:{xs:1,sm:2},border:"1px solid #ccc",borderRadius:"8px",backgroundColor:"#f9f9f9"},children:t.jsxs(C,{component:"form",autoComplete:"off",onSubmit:y,style:{padding:".5rem "},children:[t.jsxs(R,{variant:"h6",component:"h3",mb:3,color:"#696969",fontSize:"1.1rem",lineHeight:"1.2em",letterSpacing:"1px",children:["Kindly fill all required fields in order to add your parent data. Click"," ",t.jsx("a",{href:`/sensec/students/enrollment/online/${a}/guardian/add`,children:"here"})," ","to add guardian instead!"]}),t.jsxs(r,{container:!0,spacing:3,children:[t.jsx(r,{item:!0,xs:12,sm:6,children:t.jsx(n,{fullWidth:!0,label:"Father's Name",name:"fatherName",value:e==null?void 0:e.fatherName,onChange:o,required:!0})}),t.jsx(r,{item:!0,xs:12,sm:6,children:t.jsx(n,{fullWidth:!0,label:"Mother's Name",name:"motherName",value:e==null?void 0:e.motherName,onChange:o,required:!0})}),t.jsx(r,{item:!0,xs:12,sm:6,children:t.jsx(n,{fullWidth:!0,label:"Father's Occupation",name:"fathersOccupation",value:e==null?void 0:e.fathersOccupation,onChange:o,required:!0})}),t.jsx(r,{item:!0,xs:12,sm:6,children:t.jsx(n,{fullWidth:!0,label:"Mother's Occupation",name:"mothersOccupation",value:e==null?void 0:e.mothersOccupation,onChange:o,required:!0})}),t.jsx(r,{item:!0,xs:12,sm:6,children:t.jsx(n,{fullWidth:!0,label:"Address",name:"address",value:e==null?void 0:e.address,onChange:o,required:!0})}),t.jsx(r,{item:!0,xs:12,sm:6,children:t.jsx(n,{fullWidth:!0,label:"Mobile",name:"mobile",value:e==null?void 0:e.mobile,onChange:o,required:!0})}),t.jsx(r,{item:!0,xs:12,sm:6,children:t.jsx(n,{fullWidth:!0,label:"Email",name:"email",value:e==null?void 0:e.email,onChange:o})}),t.jsx(r,{item:!0,xs:12,children:t.jsxs(k,{variant:"contained",color:"success",type:"submit",fullWidth:!0,sx:{height:"3.5rem",letterSpacing:"1px",textTransform:"capitalize",fontSize:"1em"},children:[p===!1&&t.jsx(H,{color:"#fff",size:"1.5rem"}),p===!0&&m==="success"&&!O&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"Successful"})," ",t.jsx(_,{})]}),O&&t.jsx(G,{color:"#fff",size:"1.5rem"}),p===null&&"Add Parent"]})})]})]})})]})]})}export{ie as ParentForm};
