import{f as b,g as $,a as T,u as B,r as i,j as e,B as d}from"./index-BrKZIgIs.js";/* empty css                   */import{X as E}from"./index.es-DkKOh-Zr.js";import{N as _}from"./NewEmploymentModal-C_IEBMfs.js";import{c as C}from"./usersInfoTableStyle-D7rSQ0GJ.js";import{a as k}from"./LinksFormat-DQzWvp0Y.js";import{G as g}from"./Grid-CMH8KWik.js";/* empty css               */import"./Stack-BeB3Qk7_.js";import"./styled-Cwx8AUm3.js";import"./useThemeProps-DJrrucl-.js";import"./getThemeProps-VIUuhX1y.js";function K(){const c=b($),x=k(),m=T(),{adminCurrentAction:n,adminCurrentLink:o,employees_link:p}=B(),[a,q]=i.useState(""),r=[],l=r==null?void 0:r.filter(t=>t.personalInfo.firstName.toLowerCase().includes(a)||t.personalInfo.firstName.includes(a)||t.personalInfo.lastName.toLowerCase().includes(a)||t.personalInfo.lastName.includes(a)),[v,A]=i.useState("Hanging Employments"),[s,D]=i.useState(""),[R,u]=i.useState(null),[w,h]=i.useState(""),[N,f]=i.useState(!1),[j,y]=i.useState("");window.location.hash&&window.history.replaceState("",document.title,window.location.pathname);const S=()=>{h(!0),y("You're being redirected"),setTimeout(()=>{m(`/sensec/admin/${n}/${o}/new_employment/personal_info`)},3e3)};i.useEffect(()=>{u(!1),s&&!(s!=null&&s.status)?(localStorage.setItem("newAdminUniqueId",s==null?void 0:s.uniqueId),setTimeout(()=>{u(!0),h(!0)},2e3),setTimeout(()=>{m(`/sensec/admin/${n}/${o}/new_employment/status`)},5e3)):s&&!(s!=null&&s.contactAddress)&&(localStorage.setItem("newAdminUniqueId",s==null?void 0:s.uniqueId),setTimeout(()=>{u(!0),h(!0)},2e3),setTimeout(()=>{m(`/sensec/admin/${n}/${o}/new_employment/contact_address`)},5e3))},[s,n,o,m]);const I=`All Hanging Admins Employments / Total = ${r==null?void 0:r.length}`;return e.jsxs(e.Fragment,{children:[e.jsx(d,{component:"div",id:"adminDashboardHeaderWrap",sx:{position:"sticky",top:0,backgroundColor:"#fff",padding:0},minHeight:"4rem",children:e.jsxs("h1",{className:"dashAction",children:[n==null?void 0:n.replace(/_/g,"-")," /"," ",e.jsx("span",{children:o==null?void 0:o.replace(/_/g," ")})]})}),e.jsxs(d,{className:"allAdminsData",id:"allAdmins",padding:{xs:" 1rem .5rem",sm:" 1rem"},children:[e.jsxs(d,{className:"searchDetails",children:[(l==null?void 0:l.length)===0&&a!==""&&e.jsxs("p",{className:"searchInfo",children:[`We couldn't find any matches for " `,a,' "']}),(l==null?void 0:l.length)===0&&a!==""&&e.jsx("p",{style:{paddingLeft:"1.5rem",display:"flex",alignItems:"center",color:"red"},children:"||"}),a&&e.jsxs("p",{className:"searchInfo",children:["Search Result = ",l.length]}),!a&&e.jsxs("p",{className:"searchInfo",children:["Total Admins = ",r.length]})]}),e.jsx(d,{children:e.jsxs(g,{container:!0,spacing:3,className:"addNewAdminBtnsWrap",width:"100%",m:"0 auto",children:[x.map(t=>e.jsx(g,{component:"span",item:!0,xs:2.9,sm:2,onClick:()=>{A(t.label),t.label==="Add New Admin +"?f(!0):m(`/sensec/users/${c==null?void 0:c.uniqueId}/admin/${n}/${o}/employees/${t.label.replace(/ /g,"_")}`)},className:(p==null?void 0:p.replace(/_/g," "))===t.label?"adminDashBtn isActive":(t==null?void 0:t.label)==="Add New Admin +"?"adminDashAddBtn":"adminDashBtn",children:t.label==="All"?"All Employed Admins":t.label},t.label)),e.jsx(_,{open:N,onClose:()=>f(!1),handleNewEmployment:S,redirecting:w,uncompletedEmploymentTask:j,question:"Are you sure you would like to employ a new Admin?"})]})}),e.jsx(d,{children:e.jsx(E,{title:I,data:l,customStyles:C,pagination:!0,selectableRows:!0,fixedHeader:!0,selectableRowsHighlight:!0,highlightOnHover:!0,responsive:!0})})]})]})}export{K as HangingAdmins};
