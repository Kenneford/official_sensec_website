import{f as p,g as A,e as T,r as c,n as B,j as e,B as f,l as b,c6 as v}from"./index-BrKZIgIs.js";/* empty css               */import{T as S}from"./TaskAlt-CZKWz0j9.js";import{c as x}from"./muiStyling-B8pUMTN3.js";import{L as F}from"./LoadingProgress-DyOM2CxY.js";import{G as n}from"./Grid-CMH8KWik.js";import"./FormLabel-C2cHTcFw.js";import"./index-DcfIKM1A.js";import"./useControlled-BPddiEUe.js";import"./useThemeProps-DJrrucl-.js";import"./getThemeProps-VIUuhX1y.js";import"./index-CXwWd3ii.js";import"./IconButton-D70T8NKk.js";function z(){const i=p(A),{createStatus:s,successMessage:h,error:o}=p(t=>t.academicYear),g=T(),[m,a]=c.useState(null),[r,l]=c.useState({fromYear:"",toYear:"",createdBy:`${i.id}`});console.log(r);const u=t=>{l({...r,[t.target.name]:t.target.value})},Y=!!r.fromYear&&!!r.toYear,j=t=>{t.preventDefault(),a(!1),g(v({academicYear:r})),setTimeout(()=>{a(!0)},3e3)};return c.useEffect(()=>{if(s==="pending"&&a(!1),s==="rejected"){setTimeout(()=>{var t,d;a(null),(d=(t=o==null?void 0:o.errorMessage)==null?void 0:t.message)==null||d.map(C=>B.error(C,{position:"top-right",theme:"light",toastId:"createAcademicYearError"}))},3e3);return}s==="success"&&(setTimeout(()=>{a(!0)},3e3),setTimeout(()=>{a(null),l({fromYear:"",toYear:"",createdBy:`${i.id}`})},6e3))},[o,h,s,i]),e.jsx(f,{sx:{width:{xs:"100%",sm:"85%",md:"75%",lg:"60%",xl:"50%"},margin:"auto",paddingTop:"2rem",display:"flex",flexDirection:"column"},className:"createDataWrap",children:e.jsxs(f,{component:"form",onSubmit:j,minHeight:220,p:2,children:[e.jsx("h1",{children:"Academic Year Form"}),e.jsxs(n,{container:!0,spacing:3,children:[e.jsx(n,{item:!0,xs:12,sm:6,md:6,lg:6,className:"inputCont",children:e.jsx(x,{fullWidth:!0,label:"From",name:"fromYear",onChange:u,value:r.fromYear,required:!0,className:"textField",sx:{"&:hover":{borderColor:"none"}}})}),e.jsx(n,{item:!0,xs:12,sm:6,md:6,lg:6,className:"inputCont",children:e.jsx(x,{fullWidth:!0,label:"To",name:"toYear",onChange:u,value:r.toYear,required:!0,className:"textField",sx:{"&:hover":{borderColor:"none"}}})})]}),e.jsxs(b,{type:"submit",disabled:!Y,children:[m===!1&&e.jsx(F,{color:"#fff",size:"1.3rem"}),m===!0&&s==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Successfully"})," ",e.jsx(S,{})]}),m===null&&"Create Academic Year"]})]})})}export{z as CreateAcademicYear};
