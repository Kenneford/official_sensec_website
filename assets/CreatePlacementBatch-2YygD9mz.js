import{f as u,g as C,e as T,r as c,a as v,n as P,j as e,B as p,l as S,c5 as b}from"./index-BgAz6R-J.js";/* empty css               */import{T as D}from"./TaskAlt-bfh00-md.js";import{c as F}from"./muiStyling-DmAU0UFM.js";import{L as N}from"./LoadingProgress-C8hgd9jP.js";import{G as d}from"./Grid-LFq3_oT1.js";import"./FormLabel-C_YAtYcn.js";import"./index-DcfIKM1A.js";import"./useControlled-BV50I6TR.js";import"./useThemeProps-JU6LSmm0.js";import"./getThemeProps-IXaZHU6q.js";import"./index-CUAsLGHl.js";import"./IconButton-DXnj9XZJ.js";function R(){const n=u(C),{createStatus:s,successMessage:h,error:r}=u(t=>t.placement),g=T(),[i,o]=c.useState(null),[a,l]=c.useState({year:"",createdBy:`${n.id}`});console.log(a);const x=v(),f=t=>{l({...a,[t.target.name]:t.target.value})},j=!!a.year,B=t=>{t.preventDefault(),g(b({placementBatch:a}))};return c.useEffect(()=>{s==="pending"&&o(!1),s==="rejected"&&(setTimeout(()=>{var t,m;return(m=(t=r==null?void 0:r.errorMessage)==null?void 0:t.message)==null?void 0:m.map(y=>P.error(y,{position:"top-right",theme:"light"}))},2e3),setTimeout(()=>{o(null)},3e3)),s==="success"&&(setTimeout(()=>{o(!0)},3e3),setTimeout(()=>{o(null),l({year:"",createdBy:`${n.id}`})},6e3))},[r,h,s,x,n]),e.jsx(p,{sx:{width:{xs:"100%",sm:"85%",md:"75%",lg:"60%",xl:"50%"},margin:"auto",paddingTop:"2rem",display:"flex",flexDirection:"column"},className:"createDataWrap",children:e.jsxs(p,{component:"form",onSubmit:B,minHeight:220,p:2,children:[e.jsx("h1",{children:"Placement Batch Form"}),e.jsx(d,{container:!0,spacing:3,children:e.jsx(d,{item:!0,xs:12,sm:6,md:6,lg:6,className:"inputCont",children:e.jsx(F,{fullWidth:!0,label:"Placement Year",name:"year",onChange:f,value:a.year,required:!0,className:"textField",sx:{"&:hover":{borderColor:"none"}}})})}),e.jsxs(S,{type:"submit",disabled:!j,children:[i===!1&&e.jsx(N,{color:"#fff",size:"1.3rem"}),i===!0&&s==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Successful"})," ",e.jsx(D,{})]}),i===null&&"Create Placement Batch"]})]})})}export{R as CreatePlacementBatch};
