import{f as P,g as R,e as L,a as U,u as I,r as i,j as s,B as o,cP as W,cQ as O}from"./index-BrKZIgIs.js";/* empty css                        */import{X as Q}from"./index.es-DkKOh-Zr.js";import{c as X}from"./usersInfoTableStyle-D7rSQ0GJ.js";import{d as Y}from"./LinksFormat-DQzWvp0Y.js";import{N as z}from"./NewEmploymentModal-C_IEBMfs.js";import{F as J}from"./FetchClassLevel-4JV9FIfU.js";import{a as K}from"./FetchAllStudents-Bf4SUGYj.js";import{g as V}from"./UsersInfoDataFormat-6-R0KIZy.js";import{S as Z}from"./SearchFilter-h_gsYJVm.js";import{G as m}from"./Grid-CMH8KWik.js";/* empty css               */import"./Stack-BeB3Qk7_.js";import"./styled-Cwx8AUm3.js";import"./useThemeProps-DJrrucl-.js";import"./getThemeProps-VIUuhX1y.js";import"./react-router-hash-link.esm-CcfNRvgg.js";import"./Edit-YA8l4Fd8.js";import"./TaskAlt-CZKWz0j9.js";import"./SchoolOutlined-D5CmX2zz.js";import"./DateFormatter-B-8qT63H.js";import"./DemotionsModal-CxSKSEQU.js";import"./index-B10MRCJG.js";import"./Close-B2v4nXUt.js";/* empty css                   */import"./Search-svh79qAU.js";function ee(){const t=P(R),g=Y(),n=K();console.log(n);const h=J();console.log(h),L();const d=U(),{adminCurrentLink:r,adminCurrentAction:c,class_level:u,student_category:p}=I();console.log(u);const[a,k]=i.useState(""),[B,_]=i.useState([]),[v,x]=i.useState(!1),[D,G]=i.useState(!1),[A,F]=i.useState(""),l=n==null?void 0:n.filter(e=>{var S,f,j,N,w,$,b,y,C,E;return((j=(f=(S=e==null?void 0:e.personalInfo)==null?void 0:S.firstName)==null?void 0:f.toLowerCase())==null?void 0:j.includes(a))||((w=(N=e==null?void 0:e.personalInfo)==null?void 0:N.firstName)==null?void 0:w.includes(a))||((y=(b=($=e==null?void 0:e.personalInfo)==null?void 0:$.lastName)==null?void 0:b.toLowerCase())==null?void 0:y.includes(a))||((E=(C=e==null?void 0:e.personalInfo)==null?void 0:C.lastName)==null?void 0:E.includes(a))});console.log(B),console.log(n),console.log(h);const T=V(),q=e=>{_(e.selectedRows)},H=()=>{G(!0),F("You're being redirected"),setTimeout(()=>{d(`/sensec/users/${t==null?void 0:t.uniqueId}/admin/${c}/${r}/new_employment/personal_info`)},3e3)},M=`All Graduated Students / Total = ${n==null?void 0:n.length}`;return s.jsxs(s.Fragment,{children:[s.jsxs(o,{component:"div",id:"adminDashboardHeaderWrap",sx:{position:"sticky",top:0,backgroundColor:"#fff",padding:0},minHeight:"4rem",children:[s.jsxs("h1",{className:"dashAction",children:[c==null?void 0:c.replace(/_/g,"-")," /"," ",s.jsx("span",{children:r==null?void 0:r.replace(/_/g," ")})]}),s.jsx(o,{sx:{display:{xs:"none",sm:"block"}},children:s.jsx(Z,{value:a,onChange:k,placeholder:"Search"})})]}),s.jsxs(o,{className:"allStudentsData",id:"allStudents",padding:{xs:" 1rem .5rem",sm:" 1rem"},children:[s.jsxs(o,{className:"searchDetails",children:[(l==null?void 0:l.length)===0&&a!==""&&s.jsxs("p",{className:"searchInfo",children:[`We couldn't find any matches for "`,a,'"']}),(l==null?void 0:l.length)===0&&a!==""&&s.jsx("p",{style:{paddingLeft:"1.5rem",display:"flex",alignItems:"center",color:"red"},children:"||"}),a&&s.jsxs("p",{className:"searchInfo",children:["Total Enrolled Students Found = ",l==null?void 0:l.length]}),!a&&s.jsxs("p",{className:"searchInfo",children:["Total Students = ",n==null?void 0:n.length]})]}),s.jsx(o,{children:s.jsxs(m,{container:!0,spacing:3,className:"addNewStudentBtnsWrap",width:"100%",m:"0 auto",children:[g.map(e=>s.jsx(m,{component:"span",item:!0,xs:2.9,sm:2,onClick:()=>{e.label==="Add New Student +"?x(!0):d(`/sensec/users/${t==null?void 0:t.uniqueId}/admin/${c}/${r}/${e.label.replace(/ /g,"_")}`)},className:(p==null?void 0:p.replace(/_/g," "))===e.label?"studentDashBtn isActive":(e==null?void 0:e.label)==="Add New Student +"?"studentDashAddBtn":"studentDashBtn",children:e.label==="Enrolled"?"All Enrolled Students":e.label},e.label)),s.jsx(z,{open:v,onClose:()=>x(!1),handleNewEmployment:H,redirecting:D,uncompletedEmploymentTask:A,question:"Are you sure you would like to enroll a new student?"})]})}),s.jsx(o,{children:s.jsx(m,{container:!0,spacing:3,width:"100%",m:"0 auto",className:"classLevelStudents",children:s.jsxs(s.Fragment,{children:[h.map(e=>s.jsx(m,{component:"span",item:!0,xs:2.9,sm:2,onClick:()=>d(`/sensec/users/${t==null?void 0:t.uniqueId}/admin/${c}/${r}/Enrolled/${e.name.replace(/ /g,"_")}`),className:(e==null?void 0:e.name)===(u==null?void 0:u.replace(/_/g," "))?"classLevelStudentsBtn isActive":"classLevelStudentsBtn",children:e.name},e._id)),s.jsx(m,{component:"span",item:!0,xs:2.9,sm:2,onClick:()=>d(`/sensec/users/${t==null?void 0:t.uniqueId}/admin/${c}/${r}/Graduates`),className:p==="Graduates"?"classLevelStudentsBtn isActive":"classLevelStudentsBtn",children:"Graduates"})]})})}),s.jsx(o,{className:"studentDataTable",children:s.jsx(Q,{title:M,columns:T,data:l,customStyles:X,pagination:!0,fixedHeader:!0,selectableRowsHighlight:!0,highlightOnHover:!0,responsive:!0,onSelectedRowsChange:q})})]})]})}function Ie(){const{adminCurrentLink:t,class_level:g,student_category:n}=I();return s.jsxs(o,{children:[t==="Students"&&n==="Enrolled"&&s.jsx(W,{}),t==="Students"&&n==="Pending_Students"&&s.jsx(O,{}),t==="Students"&&n==="Graduates"&&s.jsx(ee,{})]})}export{Ie as StudentsCategories};
