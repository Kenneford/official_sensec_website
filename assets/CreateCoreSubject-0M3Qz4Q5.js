import{f as d,g as N,e as T,r as l,n as j,ch as x,j as e,B as b,l as B,ci as y}from"./index-CL8aB76r.js";/* empty css               */import{T as v}from"./TaskAlt-S5e9RsjI.js";import{c as D}from"./muiStyling-Biny6EY4.js";import{L as E}from"./LoadingProgress-DrQz26HU.js";import{G as f}from"./Grid-C0sdyGW0.js";import"./FormLabel-DFf2C-vG.js";import"./index-DcfIKM1A.js";import"./useControlled-CyfcTk32.js";import"./useThemeProps-5fjUjDwy.js";import"./getThemeProps-BQ9MDSVY.js";import"./index-DvkxpYwK.js";import"./IconButton-zfBQ5iJg.js";function U(){const t=d(N),o=T(),[n,a]=l.useState(null),{createStatus:r,successMessage:m,error:c}=d(s=>s.subject),[i,p]=l.useState({subjectName:"",isCore:!0,createdBy:t==null?void 0:t.id}),g=s=>{p({...i,[s.target.name]:s.target.value})},h=!!i.subjectName,S=s=>{s.preventDefault();const u={subjectName:i.subjectName,isCore:!0,createdBy:t==null?void 0:t.id};o(y({data:u}))};return l.useEffect(()=>{if(r==="pending"&&a(!1),r==="rejected"){setTimeout(()=>{a(null)},3e3),setTimeout(()=>{var s,u;(u=(s=c==null?void 0:c.errorMessage)==null?void 0:s.message)==null||u.map(C=>j.error(C,{position:"top-right",theme:"light",toastId:"createSubjectError"})),o(x())},2e3);return}r==="success"&&(setTimeout(()=>{a(!0)},3e3),setTimeout(()=>{j.success(m,{position:"top-right",theme:"dark",toastId:m})},1e3),setTimeout(()=>{p({subjectName:"",isCore:!0,createdBy:t==null?void 0:t.id}),o(x()),a(null)},6e3))},[c,m,r,t,o]),e.jsx(b,{sx:{width:{xs:"100%",sm:"85%",md:"75%",lg:"60%",xl:"50%"},margin:"auto",paddingTop:"2rem",display:"flex",flexDirection:"column"},className:"createDataWrap",children:e.jsxs(b,{component:"form",onSubmit:S,minHeight:220,p:2,children:[e.jsx("h1",{children:"Core Subject Form"}),e.jsx(f,{container:!0,spacing:3,children:e.jsx(f,{item:!0,xs:12,sm:6,md:6,lg:6,className:"inputCont",children:e.jsx(D,{fullWidth:!0,label:"Subject Name",name:"subjectName",onChange:g,value:i.subjectName,required:!0,className:"textField",sx:{"&:hover":{borderColor:"none"}}})})}),e.jsxs(B,{type:"submit",disabled:!h,children:[n===!1&&e.jsx(E,{color:"#fff",size:"1.3rem"}),n===!0&&r==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Successfully"})," ",e.jsx(v,{})]}),n===null&&"Create Core Subject"]})]})})}export{U as CreateCoreSubject};
