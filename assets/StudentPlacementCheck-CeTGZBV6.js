import{a as k,e as v,f as j,a0 as y,r,a2 as E,n as F,j as t,B as S,T as B,l as R,a5 as W}from"./index-BrKZIgIs.js";import{C as A,c as H}from"./muiStyling-B8pUMTN3.js";/* empty css                                     */import{L}from"./LoadingProgress-DyOM2CxY.js";import{R as M}from"./Redirection-B8WeSLSt.js";import{G as x}from"./Grid-CMH8KWik.js";import{T as J}from"./TaskAlt-CZKWz0j9.js";import"./FormLabel-C2cHTcFw.js";import"./index-DcfIKM1A.js";import"./useControlled-BPddiEUe.js";import"./useThemeProps-DJrrucl-.js";import"./getThemeProps-VIUuhX1y.js";import"./index-CXwWd3ii.js";import"./IconButton-D70T8NKk.js";function Z(){const h=k(),d=v(),l=j(y),{checkStatus:c,successMessage:I,error:a}=j(n=>n.placement),[m,f]=r.useState(!1),[u,p]=r.useState(null),[g,N]=r.useState(!1),[e,C]=r.useState({jhsIndexNo:""}),b=n=>{const{name:o,value:i}=n.target;C({...e,[o]:i})},s=r.useMemo(()=>l==null?void 0:l.find(o=>(o==null?void 0:o.jhsIndexNo)===(e==null?void 0:e.jhsIndexNo)),[l,e]),T=n=>{n.preventDefault(),d(W({studentIndexNo:e==null?void 0:e.jhsIndexNo}))};return r.useEffect(()=>{if(e!=null&&e.jhsIndexNo&&!s){f(!0);return}else f(!1)},[e,s]),r.useEffect(()=>{d(E())},[e,d]),r.useEffect(()=>{var n,o;if(c==="pending"&&p(!1),c==="rejected"){(o=(n=a==null?void 0:a.errorMessage)==null?void 0:n.message)==null||o.map(i=>{F.error(i,{position:"top-right",theme:"light",toastId:i})}),setTimeout(()=>{p(null)},3e3);return}c==="success"&&(setTimeout(()=>{p(!0)},3e3),setTimeout(()=>{N(!0)},6e3),setTimeout(()=>{var i;localStorage.setItem("studentIndexNo",s==null?void 0:s.jhsIndexNo),h(`/sensec/students/enrollment/placement_check/${(i=s==null?void 0:s.fullName)==null?void 0:i.replace(/ /g,"_")}/${s==null?void 0:s.jhsIndexNo}`)},9e3))},[h,c,I,a,u,s]),t.jsxs(A,{component:"div",id:"placementVerificationWrap",sx:{px:{xs:".5rem",sm:"auto"}},children:[t.jsx("h1",{style:{textAlign:"center",color:"#696969",fontSize:"1.5rem"},children:"Student Placement Check"}),t.jsx(S,{component:"div",id:"placementFormWrap",sx:{maxWidth:600,mx:{xs:"0",sm:"auto"},mt:3,p:{xs:1,sm:2},border:"1px solid #ccc",borderRadius:"8px",backgroundColor:"#f9f9f9"},children:t.jsxs(S,{component:"form",autoComplete:"off",onSubmit:T,style:{padding:".5rem "},children:[t.jsx(B,{variant:"h6",component:"h3",mb:3,color:"#696969",fontSize:"1.1rem",lineHeight:"1.2em",letterSpacing:"1px",children:"Kindly enter your JHS index number to check for your placement into Senya Senior High School."}),t.jsxs(x,{container:!0,spacing:3,children:[t.jsx(x,{item:!0,xs:12,sm:6,children:t.jsx(H,{fullWidth:!0,label:"JHS Index No.",name:"jhsIndexNo",value:e==null?void 0:e.jhsIndexNo,onChange:b,required:!0,error:m,helperText:m?"Invalid student index number!":"",sx:{"& .MuiInputLabel-asterisk":{color:e!=null&&e.jhsIndexNo&&!m?"green":"red"}}})}),t.jsx(x,{item:!0,xs:12,children:t.jsxs(R,{variant:"contained",color:"success",type:"submit",fullWidth:!0,sx:{height:"3.5rem",letterSpacing:"1px",textTransform:"capitalize",fontSize:"1em"},children:[u===!1&&t.jsx(L,{color:"#fff",size:"1.5rem"}),u===!0&&c==="success"&&!g&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"Successful"})," ",t.jsx(J,{})]}),g&&t.jsx(M,{color:"#fff",size:"1.5rem"}),u===null&&"Check Placement"]})})]})]})})]})}export{Z as StudentPlacementCheck};
