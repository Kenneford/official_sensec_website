import{f as p,g as b,e as v,r as c,a as T,n as S,j as e,B as h,l as F,c4 as N}from"./index-BgAz6R-J.js";/* empty css               */import{T as y}from"./TaskAlt-bfh00-md.js";import{c as x}from"./muiStyling-DmAU0UFM.js";import{L as A}from"./LoadingProgress-C8hgd9jP.js";import{G as l}from"./Grid-LFq3_oT1.js";import"./FormLabel-C_YAtYcn.js";import"./index-DcfIKM1A.js";import"./useControlled-BV50I6TR.js";import"./useThemeProps-JU6LSmm0.js";import"./getThemeProps-IXaZHU6q.js";import"./index-CUAsLGHl.js";import"./IconButton-DXnj9XZJ.js";function P(){const i=p(b),{createStatus:a,successMessage:f,error:r}=p(t=>t.batch),g=v(),[n,o]=c.useState(null),[s,m]=c.useState({fromYear:"",toYear:"",createdBy:`${i.id}`});console.log(s);const j=T(),u=t=>{m({...s,[t.target.name]:t.target.value})},B=!!s.fromYear&&!!s.toYear,C=t=>{t.preventDefault(),g(N({data:s}))};return c.useEffect(()=>{if(a==="pending"&&o(!1),a==="rejected"){setTimeout(()=>{o(null)},2e3),setTimeout(()=>{var t,d;(d=(t=r==null?void 0:r.errorMessage)==null?void 0:t.message)==null||d.map(Y=>S.error(Y,{position:"top-right",theme:"light",toastId:"createBatchError"}))},3e3);return}a==="success"&&(setTimeout(()=>{o(!0)},3e3),setTimeout(()=>{o(null),m({fromYear:"",toYear:"",createdBy:`${i.id}`})},6e3))},[r,f,a,j,i]),e.jsx(h,{sx:{width:{xs:"100%",sm:"85%",md:"75%",lg:"60%",xl:"50%"},margin:"auto",paddingTop:"2rem",display:"flex",flexDirection:"column"},className:"createDataWrap",children:e.jsxs(h,{component:"form",onSubmit:C,minHeight:220,p:2,children:[e.jsx("h1",{children:"Batch Form"}),e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,sm:6,md:6,lg:6,className:"inputCont",children:e.jsx(x,{fullWidth:!0,label:"From",name:"fromYear",onChange:u,value:s.fromYear,required:!0,className:"textField",sx:{"&:hover":{borderColor:"none"}}})}),e.jsx(l,{item:!0,xs:12,sm:6,md:6,lg:6,className:"inputCont",children:e.jsx(x,{fullWidth:!0,label:"To",name:"toYear",onChange:u,value:s.toYear,required:!0,className:"textField",sx:{"&:hover":{borderColor:"none"}}})})]}),e.jsxs(F,{type:"submit",disabled:!B,children:[n===!1&&e.jsx(A,{color:"#fff",size:"1.3rem"}),n===!0&&a==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Successfully!"})," ",e.jsx(y,{})]}),n===null&&"Create Academic Batch"]})]})})}export{P as CreateAcademicBatch};
